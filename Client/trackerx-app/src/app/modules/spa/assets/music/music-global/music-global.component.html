<tx-music-container>
    <main>
        <div class="tx-sg-search">
            <input type="text" class="text-box" placeholder="Search" 
                (value)="searchArgs.searchText" [formControl]="searchField"/>
            <span class="tx-sg-search-by">
                <i>search by</i>
                <input type="button" class="btn left" value="Name" (click)="onNameSearchClick()"
                    [ngClass]="searchArgs.searchBy === 'name' ? 'btn-selected' : ''" />
                <input type="button" class="btn right" value="Band" (click)="onBandSearchClick()"
                    [ngClass]="searchArgs.searchBy === 'band' ? 'btn-selected' : ''" />
            </span>
            <span class="tx-sg-search-sort">
                <span><i>sort by</i></span>
                <select name="search_sort" id="search_sort">
                    <option value="s_name">Name</option>
                    <option value="s_band">Band</option>
                    <option value="s_year">Year</option>
                </select>
            </span>
        </div>
        <div class="tx-sg-table">
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Album</th>
                        <th>Band</th>
                        <th>Year</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of songs$ | async; let i = index" (click)="onRowClicked(i, item.musicId)"
                        [ngClass]="selectedIndex == i ? 'row-clicked': ''">
                        <td>{{ item.musicName }}</td>
                        <td>{{ item.album }}</td>
                        <td>{{ item.band }}</td>
                        <td>{{ item.year }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="tx-sg-details" *ngIf="selected !== undefined">
            <div class="image-frame">
                <ng-container *ngIf="true">
                    <i class="fa-solid fa-guitar fa-2xl"></i>
                    <p>No image available</p>
                </ng-container>
                <ng-container *ngIf="false">
                    <!-- TODO -->
                </ng-container>
            </div>
            <div class="description">
                <h4>{{ selected.band }} - {{ selected.name }}</h4>
                <p>Album: {{ selected.album }}</p>
                <p>Genre(s): {{ selected.genre }}, {{ selected.subgenre }}</p>
                <p>Tempo: {{ selected.tempo }} </p>
                <span class="label">Instrumental</span>
            </div>
        </div>
    </main>
</tx-music-container>